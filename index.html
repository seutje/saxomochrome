<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/beige.css">
		<link rel="stylesheet" href="css/mine.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
        <section>
          <img src="images/Drupalcamp_wide.001.jpeg" height="1080" width="1920" />
        </section>
        <section>
          <h1>Saxomochrome</h1>
          <h3><a>Playing the browser like a fiddle</a></h3>
          <p>
            <small>Steve De Jonghe</small>
          </p>
        </section>

        <section>
          <h2>Mandatory introduction slide</h2>
          <ul class="bare">
              <li>Steve De Jonghe</li>
              <li>Intertubes plumber @ <a href="http://wunderkraut.com">Wunderkraut</a> <a href="http://wunderkraut.be">Belgium</a></li>
              <li>seutje (Code)</li>
              <li>multipass (Overwatch)</li>
              <li>Birdless Flight (FPV Freestyle)</li>
          </ul>
        </section>

        <section>
          <h2>Overview</h2>
          <ol class="bare col-2">
              <li>What is sound?</li>
              <li>Terminology</li>
              <li>Short history</li>
              <li>Web Audio API basics</li>
              <li>Analysis</li>
              <li>Tone.js</li>
              <li>Instruments</li>
              <li>Effects</li>
              <li>Interface</li>
              <li>Timing</li>
              <li>Visualisation</li>
          </ul>
        </section>

        <section>
        	<section>
        		<h2>What is sound?</h2>
        		<blockquote cite="https://en.wikipedia.org/wiki/Sound">
						<p>Oscillation in pressure, stress, particle displacement, particle velocity, etc., propagated in a medium with internal forces (e.g., elastic or viscous), or the superposition of such propagated oscillation.</p>
						<footer>â€” <a href="https://www.ansi.org/">American National Standards Institute</a></footer>
						</blockquote>
        	</section>
          <section>
            <h2>Say whaaaa?!</h2>
            <img src="images/soundwave.gif" />
          </section>
          <section>
            <h2>High pressure - low pressure</h2>
            <img src="images/wave-frequency.gif" />
            <p>Higher wavelength = higher frequency = higher pitch</p>
            <p>Higher amplitude = higher power = higher volume</p>
          </section>
        </section>

        <section>
          <section>
            <h2>Terminology</h2>
            <ul class="bare">
              <li>Oscillator = thing that spits out values that revolve around a base value, going up and down with a certain frequency and amplitude.</li>
              <li>Modulator = thing that modifies a value, adding a delay, distortion, ...</li>
              <li>Filter = thing that limits the range of a value.</li>
              <li>Sequencer = thing that steps through a sequence at a given rate.</li>
              <li>Samplerate = how often per second an oscillator changes value.</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h2>History: Teleharmonium</h2>
            <img src="images/Teleharmonium1897.jpg" />
            <p>1897 - Teleharmonium: Considered the first synthetic instrument, used moving parts to generate sound. Weighted over 200 tons.</p>
          </section>
          <section>
            <h2>History: Theremin</h2>
            <video src="video/theremin.mp4" controls></video>
            <p>1919 - Theremin: No physical contact. One antenna controlls pitch, other controls volume.</p>
          </section>
          <section>
            <h2>History: Coupleux-Givelet</h2>
            <img src="images/firstsynth.gif" height="280" width="284" />
            <p>1929 - Automatically Operating Musical Instrument of the Electric Oscillation Type: First instrument to be considered a synthesizer.</p>
          </section>
          <section>
            <h2>History: Electronic Sackbut</h2>
            <img src="images/Electronic_Sackbut.jpg" height="300" width="400" />
            <p>1945 - Electronic Sackbut: Closely resembles modern synthesizers, both in form and function.</p>
          </section>
          <section>
            <h2>History: Moog machine</h2>
            <img src="images/moog.jpg" height="241" width="368" />
            <p>1963 - Moog machine: First voltage-controlled synthesizer using diodes. Still used today.</p>
          </section>
          <section>
            <h2>History: MiniMoog</h2>
            <img src="images/minimoog.jpg" height="300" width="500" />
            <p>1970 - MiniMoog Model D: Small and affordable. About 13 000 units sold over 10 years.</p>
          </section>
          <section>
            <h2>History: PolyMoog</h2>
            <img src="images/polymoog.jpg" height="182" width="460" />
            <p>1975 - PolyMoog: Polyphonic version of the Moog machine, featured velocity-sensitive keys.</p>
          </section>
          <section>
            <h2>History: Roland TR-808 (and TR-909)</h2>
            <img src="images/808.jpg" height="271" width="447" />
            <p>1980 - TR-808: Probably the most iconic drum machine. Still used today.</p>
          </section>
        </section>

        <section>
          <section>
            <h2>Web audio API basics</h2>
            <ol>
              <li>Make an audio context</li>
              <li>Make an audio source in the context</li>
              <li>Make effects within the context</li>
              <li>Connect source to the effects</li>
              <li>Connect effects to the context destination</li>
            </ol>
          </section>
          <section>
            <h2>The audio context</h2>
            <blockquote>The AudioContext interface represents an audio-processing graph built from audio modules linked together, each represented by an AudioNode. An audio context controls both the creation of the nodes it contains and the execution of the audio processing, or decoding. - <cite>MDN</cite></blockquote>
          </section>
          <section>
            <h2>The audio context</h2>
            <pre><code class="js" data-trim data-noescape>
// Feature-test window.AudioContext
var context = new AudioContext();
            </code></pre>
          </section>
          <section>
            <h2>Audio sources and effects</h2>
            <pre><code class="js" data-trim data-noescape>
var osc = context.createOscillator(),
    gain = context.createGain();
osc.type = 'sine';
osc.frequency.value = 440;
osc.connect(gain);
gain.connect(context.destination);
osc.start();
            </code></pre>
            <div><button id="audio-source-osc">Play</button></div>
            <div>
              <label>Type:</label>
              <select id="audio-source-osc-type">
                <option value="sine" selected>sine</option>
                <option value="square">square</option>
                <option value="sawtooth">sawtooth</option>
                <option value="triangle">triangle</option>
              </select>
            </div>
            <div>
              <label>Frequency:</label>
              <input id="audio-source-osc-freq" type="range" max="2000" min="20" value="440" />
            </div>
            <div>
              <label>Volume:</label>
              <input class="master-vol" type="range" max="2" min="0" value="0.1" step="0.01" />
            </div>
          </section>
          <section>
            <h2>Loading samples</h2>
            <pre><code class="js" data-trim data-noescape>
var sampleBuffer,
    url = 'samples/snare/cd_snare_80s.wav',
    request = new XMLHttpRequest();
request.open('GET', url, true);
// Set response type
request.responseType = 'arraybuffer';
request.onload = function() {
  // Decode and store buffer
  context.decodeAudioData(request.response, function(buffer) {
    sampleBuffer = buffer;
  });
}
request.send();
            </code></pre>
          </section>
          <section>
            <h2>Playing a buffer</h2>
            <pre><code class="js" data-trim data-noescape>
var playSound = function(buffer, time) {
  var sample = context.createBufferSource();
  sample.buffer = buffer;
  //sample.loop = true;
  sample.connect(context.destination);
  sample.start(time);
}
playSound(sampleBuffer);
            </code></pre>
            <div><button id="audio-source-sample">Play</button></div>
            <div>
              <label>Volume:</label>
              <input class="master-vol" type="range" max="2" min="0" value="0.1" step="0.01" />
            </div>
          </section>
          <section>
            <h2>Timing</h2>
            <pre><code class="js" data-trim data-noescape>
var startTime = context.currentTime + 0.1;
var tempo = 80; // BPM
var eighthNoteTime = (60 / tempo)  / 2;
for (var bar = 0; bar < 2; bar++) {
  var time = startTime + bar * 8 * eighthNoteTime;
  // Play the toms on beats 1, 5
  playSound(tomBuffer, time);
  playSound(tomBuffer, time + 4 * eighthNoteTime);
  // Play the snare drum on beats 3, 7
  playSound(snareBuffer, time + 2 * eighthNoteTime);
  playSound(snareBuffer, time + 6 * eighthNoteTime);
  // Play the rim every eighthh note.
  for (var i = 0; i < 8; ++i) {
    playSound(rimBuffer, time + i * eighthNoteTime);
  }
}
            </code></pre>
            <div>
              <button class="audio-source-timing">Play</button>
              <label>Volume:</label>
              <input class="master-vol" type="range" max="2" min="0" value="0.1" step="0.01" />
            </div>
          </section>
        </section>
        <section>
          <img src="images/Drupalcamp_wide.002.jpeg" height="1080" width="1920" />
        </section>
			</div>
		</div>

    <script src="js/helpers.js"></script>
		<script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

		<script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Parallax scrolling
        // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
        // parallaxBackgroundSize: '2100px 900px',

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });
		</script>
	</body>
</html>
